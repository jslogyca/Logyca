<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="0">
        
        <!-- Template: Notificaci√≥n a Aprobadores -->
        <record id="email_template_credit_card_approval" model="mail.template">
            <field name="name">Solicitud de Tarjeta de Cr√©dito - Notificaci√≥n a Aprobadores</field>
            <field name="model_id" ref="model_credit_card_request"/>
            <field name="subject">Nueva Solicitud de Tarjeta de Cr√©dito: ${object.name}</field>
            <field name="email_from">${(object.company_id.email or user.email or 'noreply@localhost')}</field>
            <field name="email_to">${object.requester_email}</field>
            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px; font-family: Arial, sans-serif;">
                    <table border="0" cellpadding="0" cellspacing="0" style="padding-top: 16px; background-color: #F1F1F1; width: 100%;">
                        <tr>
                            <td align="center">
                                <table border="0" cellpadding="0" cellspacing="0" width="600" style="padding: 16px; background-color: white; border: 1px solid #E0E0E0; border-radius: 8px;">
                                    <tr>
                                        <td style="padding: 20px; background-color: #6f42c1; border-radius: 8px 8px 0 0;">
                                            <h1 style="color: white; margin: 0; font-size: 24px;">üí≥ Nueva Solicitud de Tarjeta de Cr√©dito</h1>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="padding: 20px; font-size: 14px;">
                                            <p>Estimado/a aprobador/a,</p>
                                            <p>Se ha recibido una nueva solicitud de tarjeta de cr√©dito.</p>
                                            <div style="background-color: #F8F9FA; padding: 15px; border-left: 4px solid #6f42c1; margin: 20px 0;">
                                                <h3 style="margin: 0 0 10px; color: #6f42c1;">Detalles</h3>
                                                <table style="width: 100%;">
                                                    <tr><td style="padding: 5px; font-weight: bold; width: 40%;">N√∫mero:</td><td><t t-out="object.name"/></td></tr>
                                                    <tr><td style="padding: 5px; font-weight: bold;">Fecha:</td><td><t t-out="format_date(object.request_date)"/></td></tr>
                                                    <tr><td style="padding: 5px; font-weight: bold;">Solicitante:</td><td><t t-out="object.requester_partner_id.name"/></td></tr>
                                                    <tr><td style="padding: 5px; font-weight: bold;">Tarjetahabiente:</td><td><t t-out="object.cardholder_partner_id.name"/></td></tr>
                                                    <tr><td style="padding: 5px; font-weight: bold;">C√©dula:</td><td><t t-out="object.cardholder_identification"/></td></tr>
                                                    <tr><td style="padding: 5px; font-weight: bold;">Organizaci√≥n:</td><td><t t-out="object.company_id.name"/></td></tr>
                                                    <tr><td style="padding: 5px; font-weight: bold;">Equipo:</td><td><t t-out="object.department_id.name"/></td></tr>
                                                    <tr><td style="padding: 5px; font-weight: bold;">Cargo:</td><td><t t-out="object.job_id.name or 'N/A'"/></td></tr>
                                                </table>
                                            </div>
                                            <div style="text-align: center; margin: 30px 0;">
                                                <a t-attf-href="{{object.get_request_url()}}" 
                                                   style="background-color: #6f42c1; color: white; padding: 12px 30px; text-decoration: none; border-radius: 5px; display: inline-block; font-weight: bold;">
                                                    Ver Solicitud
                                                </a>
                                            </div>
                                        </td>
                                    </tr>
                                </table>
                            </td>
                        </tr>
                    </table>
                </div>
            </field>
            <field name="auto_delete" eval="False"/>
        </record>

        <!-- Template: Confirmaci√≥n al Solicitante -->
        <record id="email_template_credit_card_submission" model="mail.template">
            <field name="name">Tarjeta de Cr√©dito - Confirmaci√≥n</field>
            <field name="model_id" ref="model_credit_card_request"/>
            <field name="subject">Solicitud Recibida: ${object.name}</field>
            <field name="email_from">${(object.requester_email or '')|safe}</field>
            <field name="email_to">${object.requester_email}</field>
            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px; font-family: Arial, sans-serif;">
                    <table border="0" cellpadding="0" cellspacing="0" style="padding-top: 16px; background-color: #F1F1F1; width: 100%;">
                        <tr>
                            <td align="center">
                                <table border="0" cellpadding="0" cellspacing="0" width="600" style="padding: 16px; background-color: white; border: 1px solid #E0E0E0; border-radius: 8px;">
                                    <tr>
                                        <td style="padding: 20px; background-color: #28a745; border-radius: 8px 8px 0 0; text-align: center;">
                                            <h1 style="color: white; margin: 0; font-size: 24px;"><span style="font-size: 48px;">‚úì</span><br/>Solicitud Recibida</h1>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="padding: 20px; font-size: 14px;">
                                            <p>Hola <strong><t t-out="object.requester_partner_id.name"/></strong>,</p>
                                            <p>Tu solicitud de tarjeta de cr√©dito ha sido recibida exitosamente.</p>
                                            <div style="background-color: #d4edda; padding: 20px; text-align: center; margin: 20px 0;">
                                                <p style="margin: 0 0 10px; font-size: 14px;">N√∫mero de Solicitud:</p>
                                                <p style="margin: 0; font-size: 28px; font-weight: bold; color: #155724;"><t t-out="object.name"/></p>
                                            </div>
                                            <p><strong>Tarjetahabiente:</strong> <t t-out="object.cardholder_partner_id.name"/></p>
                                            <p>Recibir√°s una notificaci√≥n cuando sea procesada.</p>
                                        </td>
                                    </tr>
                                </table>
                            </td>
                        </tr>
                    </table>
                </div>
            </field>
            <field name="auto_delete" eval="False"/>
        </record>

        <!-- Template: Solicitud Terminada -->
        <record id="email_template_credit_card_completion" model="mail.template">
            <field name="name">Tarjeta de Cr√©dito - Completada</field>
            <field name="model_id" ref="model_credit_card_request"/>
            <field name="subject">Solicitud Procesada: ${object.name}</field>
            <field name="email_from">${(object.company_id.email or user.email or 'noreply@localhost')}</field>
            <field name="email_to">${object.requester_email}</field>
            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px; font-family: Arial, sans-serif;">
                    <table border="0" cellpadding="0" cellspacing="0" style="padding-top: 16px; background-color: #F1F1F1; width: 100%;">
                        <tr>
                            <td align="center">
                                <table border="0" cellpadding="0" cellspacing="0" width="600" style="padding: 16px; background-color: white; border: 1px solid #E0E0E0; border-radius: 8px;">
                                    <tr>
                                        <td style="padding: 20px; background-color: #17a2b8; border-radius: 8px 8px 0 0; text-align: center;">
                                            <h1 style="color: white; margin: 0; font-size: 24px;"><span style="font-size: 48px;">üéâ</span><br/>¬°Solicitud Procesada!</h1>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="padding: 20px; font-size: 14px;">
                                            <p>Hola <strong><t t-out="object.requester_partner_id.name"/></strong>,</p>
                                            <p>Tu solicitud de tarjeta de cr√©dito <strong><t t-out="object.name"/></strong> ha sido procesada.</p>
                                            <p><strong>Tarjetahabiente:</strong> <t t-out="object.cardholder_partner_id.name"/></p>
                                            <p>En breve recibir√°s m√°s informaci√≥n sobre los siguientes pasos.</p>
                                        </td>
                                    </tr>
                                </table>
                            </td>
                        </tr>
                    </table>
                </div>
            </field>
            <field name="auto_delete" eval="False"/>
        </record>

        <!-- Template: Solicitud Cancelada -->
        <record id="email_template_credit_card_cancellation" model="mail.template">
            <field name="name">Tarjeta de Cr√©dito - Cancelada</field>
            <field name="model_id" ref="model_credit_card_request"/>
            <field name="subject">Solicitud Cancelada: ${object.name}</field>
            <field name="email_from">${(object.company_id.email or user.email or 'noreply@localhost')}</field>
            <field name="email_to">${object.requester_email}</field>
            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px; font-family: Arial, sans-serif;">
                    <table border="0" cellpadding="0" cellspacing="0" style="padding-top: 16px; background-color: #F1F1F1; width: 100%;">
                        <tr>
                            <td align="center">
                                <table border="0" cellpadding="0" cellspacing="0" width="600" style="padding: 16px; background-color: white; border: 1px solid #E0E0E0; border-radius: 8px;">
                                    <tr>
                                        <td style="padding: 20px; background-color: #dc3545; border-radius: 8px 8px 0 0; text-align: center;">
                                            <h1 style="color: white; margin: 0; font-size: 24px;"><span style="font-size: 48px;">‚úï</span><br/>Solicitud Cancelada</h1>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="padding: 20px; font-size: 14px;">
                                            <p>Hola <strong><t t-out="object.requester_partner_id.name"/></strong>,</p>
                                            <p>Tu solicitud <strong><t t-out="object.name"/></strong> ha sido cancelada.</p>
                                            <div style="background-color: #f8d7da; padding: 15px; border-left: 4px solid #dc3545; margin: 20px 0;">
                                                <h3 style="margin: 0 0 10px; color: #721c24;">Raz√≥n:</h3>
                                                <p style="margin: 0; color: #721c24;"><t t-out="object.cancel_reason or 'No especificada'"/></p>
                                            </div>
                                        </td>
                                    </tr>
                                </table>
                            </td>
                        </tr>
                    </table>
                </div>
            </field>
            <field name="auto_delete" eval="False"/>
        </record>

    </data>
</odoo>
